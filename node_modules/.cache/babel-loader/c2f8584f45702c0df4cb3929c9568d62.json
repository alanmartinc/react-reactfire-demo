{"ast":null,"code":"import { getDownloadURL } from 'rxfire/storage';\nimport { Observable } from 'rxjs';\nimport { useObservable } from '..';\n\nfunction _fromTask(task) {\n  return new Observable(function (subscriber) {\n    var progress = function (snap) {\n      return subscriber.next(snap);\n    };\n\n    var error = function (e) {\n      return subscriber.error(e);\n    };\n\n    var complete = function () {\n      return subscriber.complete();\n    };\n\n    task.on('state_changed', progress, error, complete);\n  });\n}\n\nexport function useStorageTask(task, ref, options) {\n  return useObservable(_fromTask(task), 'upload' + ref.toString(), options ? options.startWithValue : undefined);\n}\nexport function useStorageDownloadURL(ref, options) {\n  return useObservable(getDownloadURL(ref), 'download' + ref.toString(), options ? options.startWithValue : undefined);\n}","map":null,"metadata":{},"sourceType":"module"}